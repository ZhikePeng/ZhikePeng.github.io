<header id="site-header" class="header">
  <nav class="navbar px-3 flex justify-between items-center">
    
    <!-- å·¦è¾¹ï¼šZhike Peng -->
    <div class="order-0 h-full">
      {{ range where site.Menus.main "Weight" 10 }}
        <a class="navbar-brand text-lg font-bold" href="{{ .URL }}" title="{{ .Name }}">
          {{ .Name }}
        </a>
      {{ end }}
    </div>

    <!-- ä¸­é—´ï¼šèœå• -->
    <ul
      id="nav-menu"
      class="navbar-nav hidden lg:flex space-x-6 justify-center flex-grow text-center">
      {{ $currentPage := . }}
      {{ range where site.Menus.main "Weight" "ge" 20 }}
        {{ $menuURL := .URL | absLangURL }}
        {{ $pageURL := $currentPage.Permalink | absLangURL }}
        {{ $active := eq $menuURL $pageURL }}
        <li class="nav-item">
          <a
            class="nav-link {{ if $active }}active{{ end }}"
            href="{{ .URL | relLangURL }}">
            {{ .Name }}
          </a>
        </li>
      {{ end }}
    </ul>

    <!-- å³è¾¹ï¼šæŒ‰é’®ï¼ˆä¿æŒåŸå§‹é€»è¾‘ï¼‰ -->
    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">

      {{ $show_search := site.Params.header.navbar.show_search | default false }}
      {{ with $show_search }}
      <button
        aria-label="toggle search"
        class="text-black hover:text-primary px-3 text-xl dark:text-white"
        data-search-toggle>
        ğŸ”
      </button>
      {{ end }}

      {{ $show_theme_chooser := site.Params.header.navbar.show_theme_chooser | default true }}
      {{ if $show_theme_chooser }}
      <button class="theme-toggle px-3" title="appearance">ğŸŒ™</button>
      {{ end }}

      {{ $show_translations := site.Params.header.navbar.show_translations | default true }}
      {{ if .IsTranslated | and $show_translations }}
      <div class="pl-1 mr-5">
        {{ partial "components/language-chooser.html" (dict "page" .) }}
      </div>
      {{ end }}

      {{ if site.Params.header.navbar.button.enable }}
      <a
        href="{{ site.Params.header.navbar.button.url | relLangURL }}"
        class="inline-block rounded border px-4 py-1.5 text-sm font-semibold transition
        border-black hover:bg-black hover:text-white dark:border-white dark:text-white dark:hover:bg-white dark:hover:text-black hidden lg:inline-block">
        {{ site.Params.header.navbar.button.text }}
      </a>
      {{ end }}
    </div>
  </nav>
</header>